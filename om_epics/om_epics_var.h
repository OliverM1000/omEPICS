#ifndef OM_EPICS_VAR_H
#define OM_EPICS_VAR_H



//------------------------------------------------------------------------------------------------------------------
// DEFINITIONS
//------------------------------------------------------------------------------------------------------------------
#define _CRT_SECURE_NO_WARNINGS
#define EPICS_PV_LIST_MAX		255
#define STR_LEN				255
//------------------------------------------------------------------------------------------------------------------



//------------------------------------------------------------------------------------------------------------------
// INCLUDES
//------------------------------------------------------------------------------------------------------------------
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <cadef.h>
//------------------------------------------------------------------------------------------------------------------



//------------------------------------------------------------------------------------------------------------------
// STRUCTURES
//------------------------------------------------------------------------------------------------------------------
struct epics_pv
{
	char Name[STR_LEN];
	char PvName[STR_LEN];
	chid channel_id;
	evid event_id;
	chtype type;
	long count;

	void(*event_cb)(struct event_handler_args);	
	void(*user_cb)(void*, void*);	

	long onceConnnected;
};
//------------------------------------------------------------------------------------------------------------------
typedef struct
{                               // from tool_lib.h
    char* name;
    chid  chid;
    long  dbfType;
    long  dbrType;
    unsigned long nElems;       // True length of data in value
    unsigned long reqElems;     // Requested length of data
    int status;
    void* value;
    epicsTimeStamp tsPreviousC;
    epicsTimeStamp tsPreviousS;
    char firstStampPrinted;
    char onceConnected;
} lib_pv;
//------------------------------------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------------------------------------
// VARIABLES
//------------------------------------------------------------------------------------------------------------------
struct epics_pv *__pv_list[EPICS_PV_LIST_MAX];
//------------------------------------------------------------------------------------------------------------------



#endif // ! OM_EPICS_VAR_H